@model System.TimeZoneInfo
@using System.Xml.Linq

@{
    XElement timeZones = XElement.Load(Server.MapPath("/Content/TimeZones.xml"));

    var timeZoneList = from t in timeZones.Descendants("timeZone")
                       select new SelectListItem
                       {
                           Text = t.Attribute("description").Value,
                           Value = t.Attribute("value").Value,
                           Selected = Model != null && t.Attribute("value").Value == Model.Id
                       };
}
@Html.DropDownListFor(model => model, timeZoneList)
@Html.ValidationMessageFor(model => model)
